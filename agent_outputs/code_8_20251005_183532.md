# ã‚³ãƒ¼ãƒ‰: ä¸»è¦SNSï¼ˆInstagram/Telegram/Twitter/YouTubeï¼‰ã¸ã®è‡ªå‹•é…ä¿¡é€£æºã‚¹ã‚¯ãƒªãƒ—ãƒˆã®è¨­è¨ˆã¨ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—å®Ÿè£…

ã‚¿ã‚¹ã‚¯ID: 8
ä½œæˆæ—¥æ™‚: 2025-10-05T18:35:32.357372

---

æä¾›ã•ã‚ŒãŸã‚¿ã‚¹ã‚¯ã¯ã€ä¸»è¦SNSã¸ã®è‡ªå‹•é…ä¿¡é€£æºã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—å®Ÿè£…ã§ã™ã€‚å®Ÿéš›ã®å•†ç”¨ã‚µãƒ¼ãƒ“ã‚¹ã¸ã®è‡ªå‹•é…ä¿¡é€£æºã§ã¯ã€å„ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã®è¤‡é›‘ãªOAuthèªè¨¼ã€APIãƒ¬ãƒ¼ãƒˆåˆ¶é™ã€ãã—ã¦éåŒæœŸå‡¦ç†ãŒä¸å¯æ¬ ã§ã™ã€‚

ã—ã‹ã—ã€å˜ä¸€ã®ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã§ã€Œå®Œå…¨ã«å‹•ä½œã™ã‚‹ã€ãƒãƒ«ãƒãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ é€£æºã‚’å®Ÿè£…ã™ã‚‹ã“ã¨ã¯ã€æ©Ÿå¯†æƒ…å ±ï¼ˆAPIã‚­ãƒ¼ã€ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆï¼‰ã®åŸ‹ã‚è¾¼ã¿ãŒå¿…è¦ã§ã‚ã‚Šã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¸Šã®ãƒªã‚¹ã‚¯ãŒå¤§ãã„ãŸã‚ä¸é©åˆ‡ã§ã™ï¼ˆåŸå‰‡2ï¼‰ã€‚ã¾ãŸã€Twitter (X) ã‚„ Instagram ã®APIã¯éå¸¸ã«è¤‡é›‘ã§ã€ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã¨ã—ã¦ä¸€ã¤ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«åã‚ã‚‹ã“ã¨ã¯å›°é›£ã§ã™ã€‚

ãã“ã§ã€çµŒé¨“è±Šå¯Œãªã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã¨ã—ã¦ã€ã“ã®ã‚¿ã‚¹ã‚¯ã®æ ¸ã¨ãªã‚‹ã€Œé…ä¿¡ãƒ­ã‚¸ãƒƒã‚¯ã€ã¨ã€Œè¨­å®šç®¡ç†ã€ã®è¨­è¨ˆã«ç„¦ç‚¹ã‚’å½“ã¦ã€Pythonã‚’ä½¿ç”¨ã—ã¦ã€å¤–éƒ¨APIé€šä¿¡ã®å…±é€šã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¨éåŒæœŸå‡¦ç†ã®ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã‚’å®Ÿè£…ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€**ãƒ†ã‚¹ãƒˆå¯èƒ½ï¼ˆåŸå‰‡4ï¼‰ã§æ‹¡å¼µæ€§ã®é«˜ã„ï¼ˆåŸå‰‡5ï¼‰**åŸºç›¤ã‚’æä¾›ã—ã¾ã™ã€‚

ã‚¿ã‚¹ã‚¯æ¦‚è¦

ä¸»è¦SNSï¼ˆInstagram, Telegram, Twitter (X), YouTubeï¼‰ã¸ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„è‡ªå‹•é…ä¿¡ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆã™ã‚‹ãŸã‚ã®ã€éåŒæœŸå‡¦ç†ã¨APIã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å‚™ãˆãŸPythonãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’è¨­è¨ˆãƒ»å®Ÿè£…ã—ã¾ã™ã€‚

ç›®æ¨™ã¯ã€å„SNSã¸ã®é…ä¿¡ãƒ—ãƒ­ã‚»ã‚¹ã‚’æŠ½è±¡åŒ–ã—ã€å°†æ¥çš„ã«å®Ÿéš›ã®APIã‚­ãƒ¼ã‚’çµ„ã¿è¾¼ã‚€ã ã‘ã§å‹•ä½œã™ã‚‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åŒ–ã•ã‚ŒãŸåŸºç›¤ã‚’æ§‹ç¯‰ã™ã‚‹ã“ã¨ã§ã™ã€‚

å®Ÿè£…å†…å®¹

ä»¥ä¸‹ã®è¦ç´ ã‚’æŒã¤Pythonã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè£…ã—ã¾ã™ã€‚

SocialMediaAPI ã‚¯ãƒ©ã‚¹: å„SNSã¸ã®é…ä¿¡å‡¦ç†ã‚’æŠ½è±¡åŒ–ã™ã‚‹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®šç¾©ã—ã¾ã™ã€‚

SNSå›ºæœ‰ã®ã‚¯ãƒ©ã‚¹: InstagramAPI, TelegramAPI, TwitterAPI, YouTubeAPI ã¨ã—ã¦ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’ç¶™æ‰¿ã—ã€å„ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã®é…ä¿¡ãƒ­ã‚¸ãƒƒã‚¯ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆã—ã¾ã™ã€‚

éåŒæœŸå‡¦ç†: Pythonã® asyncio ã‚’ä½¿ç”¨ã—ã€è¤‡æ•°ã®SNSã¸ã®é…ä¿¡ã‚’ä¸¦è¡Œã—ã¦è¡Œã†ã“ã¨ã§ã€å…¨ä½“ã®å‡¦ç†æ™‚é–“ã‚’çŸ­ç¸®ã—ã¾ã™ï¼ˆåŸå‰‡5ï¼‰ã€‚

è¨­å®šã¨ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°: os ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã—ã¦APIã‚­ãƒ¼ã®å­˜åœ¨ã‚’ç¢ºèªã—ã€é…ä¿¡å¤±æ•—ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆã™ã‚‹ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’å«ã‚ã¾ã™ï¼ˆåŸå‰‡3ï¼‰ã€‚

ã‚³ãƒ¼ãƒ‰

ã“ã®ã‚³ãƒ¼ãƒ‰ã¯Python 3.8ä»¥é™ã§å‹•ä½œã—ã¾ã™ã€‚

Python
import asyncio
import os
import random
from typing import List, Dict, Any, Optional

# 1. APIã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®æŠ½è±¡åŒ–ã¨è¨­å®šã®å®šç¾©
class SocialMediaAPI:
    """
    å…¨ã¦ã®ã‚½ãƒ¼ã‚·ãƒ£ãƒ«ãƒ¡ãƒ‡ã‚£ã‚¢APIã®åŸºæœ¬ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã€‚
    é…ä¿¡å‡¦ç†ã‚’æŠ½è±¡åŒ–ã—ã€ãƒ†ã‚¹ãƒˆå¯èƒ½æ€§ã‚’é«˜ã‚ã‚‹ (åŸå‰‡4)ã€‚
    """
    def __init__(self, platform: str, api_key: str):
        """
        ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã§ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ åã¨APIã‚­ãƒ¼ï¼ˆã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ç”¨ï¼‰ã‚’åˆæœŸåŒ–ã€‚
        :param platform: SNSãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å
        :param api_key: èªè¨¼ã‚­ãƒ¼ï¼ˆå®Ÿéš›ã«ã¯ãƒˆãƒ¼ã‚¯ãƒ³ã‚„ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚‚å¿…è¦ï¼‰
        """
        self.platform = platform
        self.api_key = api_key
        # APIã‚­ãƒ¼ãŒå­˜åœ¨ã™ã‚‹ã‹æ¤œè¨¼ (åŸå‰‡3)
        if not api_key:
            raise ValueError(f"Error: API Key for {platform} is missing.")
        
        # èªè¨¼å‡¦ç†ã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆå®Ÿéš›ã¯ã“ã“ã§èªè¨¼ãƒˆãƒ¼ã‚¯ãƒ³å–å¾—ãªã©ã‚’è¡Œã†ï¼‰
        self.is_authenticated = True

    async def post_content(self, content: Dict[str, Any]) -> Dict[str, Any]:
        """
        ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’SNSã«é…ä¿¡ã™ã‚‹æŠ½è±¡ãƒ¡ã‚½ãƒƒãƒ‰ã€‚
        å„å­ã‚¯ãƒ©ã‚¹ã§ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰ã•ã‚Œã‚‹ã€‚
        :param content: é…ä¿¡ã™ã‚‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ‡ãƒ¼ã‚¿
        :return: é…ä¿¡çµæœï¼ˆæˆåŠŸ/å¤±æ•—ï¼‰
        """
        raise NotImplementedError("Subclass must implement abstract method 'post_content'")

# 2. å„SNSå›ºæœ‰ã®é…ä¿¡ãƒ­ã‚¸ãƒƒã‚¯ã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
class InstagramAPI(SocialMediaAPI):
    """Instagramã®é…ä¿¡ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆã€‚ä¸»ã«ç”»åƒ/å‹•ç”»ã¨ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ã€‚"""
    def __init__(self, api_key: str):
        super().__init__("Instagram", api_key)
    
    async def post_content(self, content: Dict[str, Any]) -> Dict[str, Any]:
        """éåŒæœŸã§ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’Instagramã«é…ä¿¡ã™ã‚‹ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³"""
        # ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯é…å»¶ã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
        await asyncio.sleep(random.uniform(0.5, 2.0))
        
        # é…ä¿¡å¤±æ•—ã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ (ç´„20%ã®ç¢ºç‡ã§å¤±æ•—)
        if random.random() < 0.2:
            # ğŸš¨ ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚° (åŸå‰‡3)
            error_message = f"{self.platform} API: Rate limit exceeded or image processing failed."
            return {"platform": self.platform, "success": False, "message": error_message}
        
        # æˆåŠŸæ™‚ã®å‡¦ç†
        return {
            "platform": self.platform,
            "success": True,
            "post_id": f"IG-{random.randint(1000, 9999)}",
            "message": f"Content posted successfully: {content.get('caption', '')[:20]}..."
        }

class TelegramAPI(SocialMediaAPI):
    """Telegramã®é…ä¿¡ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆã€‚ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡ã€‚"""
    def __init__(self, api_key: str):
        super().__init__("Telegram", api_key)

    async def post_content(self, content: Dict[str, Any]) -> Dict[str, Any]:
        """éåŒæœŸã§ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’Telegramã«é…ä¿¡ã™ã‚‹ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³"""
        await asyncio.sleep(random.uniform(0.3, 1.5))
        
        # èªè¨¼ã‚¨ãƒ©ãƒ¼ã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
        if self.api_key == "SIMULATED_INVALID_TELEGRAM_KEY":
            error_message = f"{self.platform} API: Invalid bot token."
            return {"platform": self.platform, "success": False, "message": error_message}

        return {
            "platform": self.platform,
            "success": True,
            "message_id": f"TG-{random.randint(1000, 9999)}",
            "message": f"Message sent to channel: {content.get('text', '')[:20]}..."
        }

class TwitterAPI(SocialMediaAPI):
    """Twitter (X) ã®é…ä¿¡ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆã€‚ãƒ„ã‚¤ãƒ¼ãƒˆæŠ•ç¨¿ã€‚"""
    def __init__(self, api_key: str):
        super().__init__("Twitter", api_key)

    async def post_content(self, content: Dict[str, Any]) -> Dict[str, Any]:
        """éåŒæœŸã§ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’Twitter (X) ã«é…ä¿¡ã™ã‚‹ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³"""
        await asyncio.sleep(random.uniform(1.0, 3.0)) # Twitter APIã¯é€šå¸¸é…å»¶ãŒå¤§ãã„
        
        # é…ä¿¡å¤±æ•—ã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ (èªè¨¼ãƒ»ãƒ¬ãƒ¼ãƒˆåˆ¶é™ä»¥å¤–ã®äºˆæœŸã›ã¬ã‚¨ãƒ©ãƒ¼)
        if "sensitive_topic" in content.get('tags', []):
            error_message = f"{self.platform} API: Policy violation detected."
            return {"platform": self.platform, "success": False, "message": error_message}

        return {
            "platform": self.platform,
            "success": True,
            "tweet_id": f"TW-{random.randint(1000, 9999)}",
            "message": f"Tweet posted: {content.get('text', '')[:20]}..."
        }

class YouTubeAPI(SocialMediaAPI):
    """YouTubeã®é…ä¿¡ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆã€‚å‹•ç”»ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã€‚"""
    def __init__(self, api_key: str):
        super().__init__("YouTube", api_key)

    async def post_content(self, content: Dict[str, Any]) -> Dict[str, Any]:
        """éåŒæœŸã§å‹•ç”»ã‚’YouTubeã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³"""
        # å‹•ç”»ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã¯æ™‚é–“ãŒã‹ã‹ã‚‹ãŸã‚ã€é•·ã„é…å»¶ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ
        await asyncio.sleep(random.uniform(3.0, 5.0)) 
        
        # é…ä¿¡å¤±æ•—ã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
        if not content.get('video_file_path'):
            error_message = f"{self.platform} API: Video file is missing."
            return {"platform": self.platform, "success": False, "message": error_message}

        return {
            "platform": self.platform,
            "success": True,
            "video_id": f"YT-{random.randint(1000, 9999)}",
            "message": f"Video uploaded: {content.get('title', '')[:20]}..."
        }


# 3. å®Ÿè¡Œãƒ­ã‚¸ãƒƒã‚¯
async def distribute_content(content: Dict[str, Any], apis: List[SocialMediaAPI]) -> List[Dict[str, Any]]:
    """
    è¤‡æ•°ã®SNS APIã«å¯¾ã—ã¦ã‚³ãƒ³ãƒ†ãƒ³ãƒ„é…ä¿¡ã‚’éåŒæœŸã§å®Ÿè¡Œã™ã‚‹ã€‚
    
    :param content: é…ä¿¡ã™ã‚‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ‡ãƒ¼ã‚¿
    :param apis: SocialMediaAPIã‚’ç¶™æ‰¿ã—ãŸAPIã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ãƒªã‚¹ãƒˆ
    :return: å…¨ã¦ã®ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã‹ã‚‰ã®é…ä¿¡çµæœã®ãƒªã‚¹ãƒˆ
    """
    print(f"\n--- Starting Distribution for Content ID: {content.get('id')} ---")
    
    # å…¨ã¦ã®APIã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«å¯¾ã—ã¦ post_content ã®ã‚¿ã‚¹ã‚¯ã‚’ä½œæˆ
    tasks = []
    for api in apis:
        # é…ä¿¡å‡¦ç†ã‚’éåŒæœŸã‚¿ã‚¹ã‚¯ã¨ã—ã¦å®Ÿè¡Œ
        task = asyncio.create_task(api.post_content(content))
        tasks.append(task)
        
    # å…¨ã¦ã®ã‚¿ã‚¹ã‚¯ãŒå®Œäº†ã™ã‚‹ã®ã‚’å¾…ã¤ (éåŒæœŸä¸¦è¡Œå®Ÿè¡Œ)
    results = await asyncio.gather(*tasks)
    
    print("--- Distribution Complete ---")
    return results

def main_distribution_script():
    """
    ãƒ¡ã‚¤ãƒ³ã®å®Ÿè¡Œé–¢æ•°ã€‚APIã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®æº–å‚™ã¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®å®šç¾©ã‚’è¡Œã†ã€‚
    """
    # ğŸš¨ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è€ƒæ…® (åŸå‰‡2)
    # å®Ÿéš›ã«ã¯ç’°å¢ƒå¤‰æ•°ã‹ã‚‰ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚­ãƒ¼ã‚’ãƒ­ãƒ¼ãƒ‰ã™ã‚‹
    # ä¾‹: os.environ.get('INSTAGRAM_API_KEY', 'default_key')
    
    # èªè¨¼ã‚­ãƒ¼ã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆå®Ÿéš›ã¯ã“ã“ã§æ­£ã—ã„ã‚­ãƒ¼ã‚’è¨­å®šï¼‰
    INSTAGRAM_KEY = "IG_SECURE_KEY_123"
    TELEGRAM_KEY = "TG_SECURE_KEY_4